<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recipe Explorer</title>
    <!-- UIkit CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/uikit@3.17.11/dist/css/uikit.min.css" />
    <link rel="stylesheet" href="css/style.css">
    <!-- UIkit Icons (if needed, or use SVG icons directly) -->
    <!-- Note: UIkit has its own icon system. We'll adapt or add a specific icon library if the default isn't sufficient. -->
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="uk-navbar-container uk-navbar-sticky" uk-navbar>
        <div class="uk-navbar-left">
            <a class="uk-navbar-item uk-logo" href="#">Recipe Explorer</a>
        </div>
        <div class="uk-navbar-right">
            <div class="uk-navbar-item">
                <form class="uk-search uk-search-default" id="searchForm">
                    <span uk-search-icon></span>
                    <input class="uk-search-input" type="search" placeholder="Search recipes..." aria-label="Search" id="searchInput">
                </form>
            </div>
            <ul class="uk-navbar-nav">
                <li>
                    <a href="#">Filter by Tag <span uk-icon="icon: chevron-down"></span></a>
                    <div class="uk-navbar-dropdown" id="tagFilterOptionsContainer">
                        <ul class="uk-nav uk-navbar-dropdown-nav" id="tagFilterOptions">
                            <!-- Tag options will be populated here -->
                        </ul>
                    </div>
                </li>
                <li>
                    <a href="#">Filter by Meal Type <span uk-icon="icon: chevron-down"></span></a>
                    <div class="uk-navbar-dropdown" id="mealTypeFilterOptionsContainer">
                        <ul class="uk-nav uk-navbar-dropdown-nav" id="mealTypeFilterOptions">
                            <!-- Meal type options will be populated here -->
                        </ul>
                    </div>
                </li>
                <li>
                    <div class="uk-navbar-item">
                        <button class="uk-button uk-button-primary" id="addRecipeBtn" uk-toggle="target: #addEditRecipeModal">Add Recipe</button>
                    </div>
                </li>
            </ul>
            <a class="uk-navbar-toggle uk-hidden@m" uk-navbar-toggle-icon href="#" uk-toggle="target: #offcanvas-nav"></a>
        </div>
    </nav>

    <!-- Off-canvas navigation for mobile -->
    <div id="offcanvas-nav" uk-offcanvas="overlay: true">
        <div class="uk-offcanvas-bar">
            <button class="uk-offcanvas-close" type="button" uk-close></button>
            <form class="uk-search uk-search-default uk-width-1-1 uk-margin-bottom" id="searchFormMobile">
                <span uk-search-icon></span>
                <input class="uk-search-input" type="search" placeholder="Search recipes..." aria-label="Search" id="searchInputMobile">
            </form>
            <ul class="uk-nav uk-nav-default">
                <li class="uk-parent">
                    <a href="#">Filter by Tag <span uk-nav-parent-icon></span></a>
                    <ul class="uk-nav-sub" id="tagFilterOptionsMobile">
                        <!-- Tag options will be populated here by JS -->
                    </ul>
                </li>
                <li class="uk-parent">
                    <a href="#">Filter by Meal Type <span uk-nav-parent-icon></span></a>
                    <ul class="uk-nav-sub" id="mealTypeFilterOptionsMobile">
                        <!-- Meal type options will be populated here by JS -->
                    </ul>
                </li>
                <li><button class="uk-button uk-button-primary uk-width-1-1" id="addRecipeBtnMobile" uk-toggle="target: #addEditRecipeModal">Add Recipe</button></li>
            </ul>
        </div>
    </div>

    <!-- Main Content Area -->
    <div class="uk-container uk-margin-top">
        <!-- Sorting Controls -->
        <div class="uk-grid-small uk-margin-bottom" uk-grid>
            <div class="uk-width-1-2@s uk-width-1-3@m uk-width-1-4@l">
                <label for="sortBySelect" class="uk-form-label">Sort By:</label>
                <select class="uk-select" id="sortBySelect">
                    <option value="name">Name</option>
                    <option value="rating">Rating</option>
                    <option value="caloriesPerServing">Calories</option>
                </select>
            </div>
            <div class="uk-width-1-2@s uk-width-1-3@m">
                <label for="sortOrderSelect" class="uk-form-label">Order:</label>
                <select class="uk-select" id="sortOrderSelect">
                    <option value="asc">Ascending</option>
                    <option value="desc">Descending</option>
                </select>
            </div>
        </div>

        <!-- Recipe Cards Grid -->
        <div class="uk-grid-match uk-child-width-1-1 uk-child-width-1-2@s uk-child-width-1-3@m" uk-grid="masonry: true" id="recipeCardGrid">
            <!-- Recipe cards will be populated here -->
        </div>

        <!-- Pagination Controls -->
        <ul class="uk-pagination uk-flex-center uk-margin-medium-top" id="paginationControls">
            <!-- Pagination items will be populated here -->
        </ul>
    </div>

    <!-- Recipe Detail Modal -->
    <div id="recipeDetailModal" class="uk-flex-top" uk-modal>
        <div class="uk-modal-dialog uk-modal-body uk-margin-auto-vertical">
            <button class="uk-modal-close-default" type="button" uk-close></button>
            <h2 class="uk-modal-title" id="recipeDetailModalLabel">Recipe Details</h2>
            <div id="recipeDetailModalBody">
                <!-- Recipe details will be populated here -->
            </div>
            <div class="uk-text-right uk-margin-top">
                <button class="uk-button uk-button-default uk-modal-close" type="button">Close</button>
                <button class="uk-button uk-button-primary" id="editRecipeModalBtn" type="button">Edit</button>
                <button class="uk-button uk-button-danger" id="deleteRecipeModalBtn" type="button">Delete</button>
            </div>
        </div>
    </div>

    <!-- Add/Edit Recipe Modal -->
    <div id="addEditRecipeModal" class="uk-flex-top" uk-modal>
        <div class="uk-modal-dialog uk-modal-body uk-margin-auto-vertical">
            <button class="uk-modal-close-default" type="button" uk-close></button>
            <h2 class="uk-modal-title" id="addEditRecipeModalLabel">Add Recipe</h2>
            <form id="addEditRecipeForm" class="uk-form-stacked">
                <input type="hidden" id="recipeId">
                <div class="uk-margin">
                    <label class="uk-form-label" for="recipeName">Name</label>
                    <div class="uk-form-controls">
                        <input class="uk-input" id="recipeName" type="text" required>
                    </div>
                </div>
                <div class="uk-margin">
                    <label class="uk-form-label" for="recipeIngredients">Ingredients (comma-separated)</label>
                    <div class="uk-form-controls">
                        <textarea class="uk-textarea" id="recipeIngredients" rows="3" required></textarea>
                    </div>
                </div>
                <div class="uk-margin">
                    <label class="uk-form-label" for="recipeInstructions">Instructions (semicolon-separated steps)</label>
                    <div class="uk-form-controls">
                        <textarea class="uk-textarea" id="recipeInstructions" rows="5" required></textarea>
                    </div>
                </div>
                <div class="uk-margin">
                    <label class="uk-form-label" for="recipeImage">Image URL</label>
                    <div class="uk-form-controls">
                        <input class="uk-input" id="recipeImage" type="url">
                    </div>
                </div>
                <div class="uk-grid-small" uk-grid>
                    <div class="uk-width-1-2@s">
                        <label class="uk-form-label" for="recipePrepTime">Prep Time (minutes)</label>
                        <div class="uk-form-controls">
                            <input class="uk-input" id="recipePrepTime" type="number" min="0">
                        </div>
                    </div>
                    <div class="uk-width-1-2@s">
                        <label class="uk-form-label" for="recipeCookTime">Cook Time (minutes)</label>
                        <div class="uk-form-controls">
                            <input class="uk-input" id="recipeCookTime" type="number" min="0">
                        </div>
                    </div>
                </div>
                <div class="uk-grid-small" uk-grid>
                    <div class="uk-width-1-2@s">
                        <label class="uk-form-label" for="recipeCuisine">Cuisine</label>
                        <div class="uk-form-controls">
                            <input class="uk-input" id="recipeCuisine" type="text">
                        </div>
                    </div>
                    <div class="uk-width-1-2@s">
                        <label class="uk-form-label" for="recipeDifficulty">Difficulty</label>
                        <div class="uk-form-controls">
                            <select class="uk-select" id="recipeDifficulty">
                                <option value="Easy">Easy</option>
                                <option value="Medium">Medium</option>
                                <option value="Hard">Hard</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="uk-margin">
                    <label class="uk-form-label" for="recipeTags">Tags (comma-separated)</label>
                    <div class="uk-form-controls">
                        <input class="uk-input" id="recipeTags" type="text">
                    </div>
                </div>
                <div class="uk-margin">
                    <label class="uk-form-label" for="recipeMealType">Meal Type (comma-separated)</label>
                    <div class="uk-form-controls">
                        <input class="uk-input" id="recipeMealType" type="text">
                    </div>
                </div>
                <div class="uk-margin uk-text-right">
                    <button class="uk-button uk-button-default uk-modal-close" type="button">Cancel</button>
                    <button type="submit" class="uk-button uk-button-primary">Save Recipe</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Toast Notifications Container - UIkit handles this differently, usually appends to body or a specific uikit container -->
    <!-- We will manage notifications via JS using UIkit.notification -->

    <!-- Loading Spinner -->
    <div id="loadingSpinnerModal" class="uk-flex-top" uk-modal="esc-close: false; bg-close: false;">
        <div class="uk-modal-dialog uk-modal-body uk-width-auto uk-margin-auto-vertical uk-text-center">
            <div uk-spinner="ratio: 2"></div>
            <p>Loading...</p>
        </div>
    </div>

    <!-- jQuery (already present, UIkit is compatible) -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <!-- UIkit JS -->
    <script src="https://cdn.jsdelivr.net/npm/uikit@3.17.11/dist/js/uikit.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/uikit@3.17.11/dist/js/uikit-icons.min.js"></script>
    <script src="js/script.js"></script>
</body>
</html>
